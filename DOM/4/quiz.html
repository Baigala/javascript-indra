<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      class Quiz {
        constructor(question, answers, correctAnswer) {
          this.question = question;
          this.answers = answers;
          this.correctAnswer = correctAnswer;
        }

        displayQuestion() {
          console.log(this.question);
          for (let i = 0; i < this.answers.length; i++) {
            console.log(`${i}: ${this.answers[i]}`);
          }
        }

        isCorrect(answer, callback) {
          var sc;
          if (this.correctAnswer === answer) {
            console.log("hariult zow baina.");
            sc = callback(true);
          } else {
            console.log("hariult buruu baina.");
            sc = callback(false);
          }

          this.displayScore(sc);
        }

        displayScore(score) {
          console.log(`Tanii awsan onoo: ${score}`);
          console.log("--------------------");
        }
      }

      let q1 = new Quiz(
        "Mongol ulsiin niislel ali ni we?",
        ["Darhan", "Erdenet", "Ulaanbaatar", "Suhbaatar"],
        2
      );
      let q2 = new Quiz("Mongol uls heden aimagtai we", [19, 21, 23, 20], 1);
      let q3 = new Quiz("Mongol jiliin heden uliraltai we?", [4, 2, 1, 3], 0);

      const asuultuud = [q1, q2, q3];

      var keepScore = () => {
        var score = 0;
        return function (correct) {
          if (correct) {
            score++;
          }
          return score;
        };
      };

      var result = keepScore();

      var nextQuestion = () => {
        let random = Math.floor(Math.random() * asuultuud.length);

        if (asuultuud.length === 0) {
          console.log("Test duuslaa");
        } else {
          asuultuud[random].displayQuestion();
          let ans = parseInt(prompt("Zow hariultiig songo"));
          asuultuud[random].isCorrect(ans, result);
          asuultuud.splice(random, 1);
          nextQuestion();
        }
      };

      nextQuestion();
    </script>
  </body>
</html>
